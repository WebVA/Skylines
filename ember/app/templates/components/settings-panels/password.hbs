<form {{action "submit" on="submit"}}>
  {{#if error}}
    <div class="alert alert-danger" role="alert">
      {{#if messageKey}}{{t messageKey error=error}}{{else}}{{error}}{{/if}}
    </div>
  {{else if messageKey}}
    <div class="alert alert-success" role="alert">{{t messageKey}}</div>
  {{/if}}

  {{validated-input
    type='password'
    value=currentPassword
    validation=validations.attrs.currentPassword
    isValid=null
    showErrorClass=(eq messageKey "wrong-current-password")
    label=(t "current-password")
    disabled=pending}}

  {{validated-input
    type='password'
    value=password
    validation=validations.attrs.password
    label=(t "password")
    disabled=pending}}

  {{validated-input
    type='password'
    value=passwordConfirmation
    validation=validations.attrs.passwordConfirmation
    label=(t "confirm-password")
    disabled=pending}}

  <button class="btn btn-primary btn-block" type="submit" disabled={{or pending (not validations.isTruelyValid)}}>
    {{t (if pending "changing-password" "change-password")}}
  </button>
</form>